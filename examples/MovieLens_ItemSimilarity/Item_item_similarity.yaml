experiment_name: Example2_item_item_similarity
owner: sanjay
experiment_dir: MLWBdemo2/experiment
inputs:
  link_to_raw_data: http://files.grouplens.org/datasets/movielens/ml-100k.zip
  validation_set: inputs/tutorial2_validation_set.csv
outputs:
  topK_predictions_file: outputs/topK_predictions_file
  model_report: outputs/model_report

graph:
  - node_name: fetch_data
    inputs: link_to_raw_data
    outputs: raw_data
    operation: movielens_data_fetcher
    arguments:
      separator: '\t'

  - node_name: read_validation_set
    inputs: validation_set
    outputs: validation_data
    operation: csv_reader
    arguments:

  - node_name: compute_similarity
    inputs: raw_data
    outputs: similarity_computation_model
    operation: compute_item_item_similarity
    arguments:
      sim_options:
        name: cosine
        user_based: False

  - node_name: get_neighbors
    inputs: similarity_computation_model
    outputs: top_k_similar_items
    operation: top_k_neighbors_computation
    arguments:
      topK: 10

  - node_name: evaluate_model
    inputs: [top_k_similar_items, validation_data]
    outputs: model_report
    operation: item_similarity_model_evaluation
    arguments:
      

  - node_name: write_outputs
    inputs:
      - top_k_similar_items
    outputs: 
      - topK_predictions_file    
    operation: csv_writer
    arguments:
      index: True